{"ast":null,"code":"var _jsxFileName = \"/home/dan1erusam4/.ssh/Website/src/Pages/Apontamentos/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Row, Col, Tab, Nav, Spinner } from 'react-bootstrap';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTh, faThList, faTimes, faShareAlt } from '@fortawesome/free-solid-svg-icons';\nimport ListView from './ListView';\nimport GridView from './GridView';\nimport \"./index.css\";\nimport PageNav from '../../Components/PageNav';\nimport Filters from \"../../Components/Filters\";\nimport Alert from '../../Components/Alert';\nimport Details from \"./Details\";\nimport Select from \"react-select\";\nimport Typist from 'react-typist';\nimport categoryFilters from './filters';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Apontamentos = () => {\n  _s();\n\n  // Grid view selected note\n  const [selectedNote, setSelectedNote] = useState(null); // useStates and other variables\n\n  const [data, setData] = useState([]);\n  const [filters, setFilters] = useState([]);\n  const [activeFilters, setActiveFilters] = useState([]);\n  const [selection, setSelection] = useState([]);\n  const [subjects, setSubjects] = useState([]); // todos os subjects\n\n  const [selectedSubject, setSelectedSubject] = useState(\"\");\n  const [subjectName, setSubjectName] = useState(\"\");\n  const [years, setYears] = useState(\"\");\n  const [selYear, setSelYear] = useState(\"\"); //const [selSemester, setSelSemester] = useState(\"\"); // Will we use this? --> no :P\n\n  const [student, setStudents] = useState(\"\");\n  const [selStudent, setSelStudent] = useState(\"\");\n  const [teachers, setTeachers] = useState(\"\");\n  const [selTeacher, setSelTeacher] = useState(\"\");\n  const [pageNumber, setPageNumber] = useState(1);\n  const [selPage, setSelPage] = useState(1);\n  const [shownYear, setShownYear] = useState();\n  const [shownSubj, setShownSubj] = useState();\n  const [shownAuth, setShownAuth] = useState();\n  const [shownTeacher, setShownTeacher] = useState();\n  const [thanks, setThanks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [alert, setAlert] = useState({\n    'type': null,\n    'text': \"\"\n  });\n\n  const fetchPage = p_num => {\n    console.log(\"currPage: \" + selPage + \", new_page: \" + p_num);\n    setSelPage(p_num);\n  }; // When page loads\n\n\n  useEffect(() => {\n    // 1. Load category filters (static)\n    setFilters(categoryFilters);\n    setActiveFilters(categoryFilters.map(content => content.filter)); // 2. Check if there are filtering parameters on URL\n    // Get parameters and apply to filters\n\n    const urlParams = new URLSearchParams(window.location.search);\n    if (urlParams.get('year')) setSelYear(urlParams.get('year'));\n    if (urlParams.get('subject')) setSelectedSubject(urlParams.get('subject'));\n    if (urlParams.get('author')) setSelStudent(urlParams.get('author'));\n    if (urlParams.get('teacher')) setSelTeacher(urlParams.get('teacher'));\n    let active = [];\n    urlParams.getAll('category').forEach(categoryParam => {\n      let find = categoryFilters.find(f => f.db == categoryParam);\n      if (find) active.push(find.filter);\n    });\n\n    if (active.length > 0) {\n      setActiveFilters(active);\n    } // Remove data from URL\n\n\n    var url = document.location.href;\n    window.history.pushState({}, \"\", url.split(\"?\")[0]); // Load thanks\n\n    fetch(process.env.REACT_APP_API + \"/notes/thanks/\").then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }).then(response => {\n      if ('data' in response) {\n        setThanks(response['data']);\n      }\n    }).catch(error => {\n      console.log(\"Error getting thanks\", error);\n    });\n  }, []);\n  useEffect(() => {\n    setLoading(true); // Every time a new call is made to the API, close details\n\n    setSelectedNote(null); // extraVarName --> base used to concatenate and compare the optionals of every fetch\n\n    var extraYear = selYear == \"\" ? \"\" : \"schoolYear=\" + selYear + \"&\";\n    var extraSubj = selectedSubject == \"\" ? \"\" : \"subject=\" + selectedSubject + \"&\";\n    var extraStud = selStudent == \"\" ? \"\" : \"student=\" + selStudent + \"&\";\n    var extraTeacher = selTeacher == \"\" ? \"\" : \"teacher=\" + selTeacher + \"&\";\n    var extraCategory = \"\";\n\n    for (var i = 0; i < activeFilters.length; i++) {\n      extraCategory += \"category[]=\" + filters.filter(f => f['filter'] == activeFilters[i])[0]['db'] + \"&\";\n    }\n\n    if (activeFilters.length == 0) {\n      setData([]);\n      setSelPage(1);\n      setPageNumber(1);\n      setLoading(false);\n      return;\n    } // fullVarName --> sum of optionals of every fetch\n\n\n    var fullTeacher = \"\";\n\n    if (extraYear != \"\" || extraSubj != \"\" || extraStud != \"\") {\n      fullTeacher = \"?\";\n      fullTeacher += extraYear;\n      fullTeacher += extraSubj;\n      fullTeacher += extraStud;\n      fullTeacher = fullTeacher.substring(0, fullTeacher.length - 1); // ignore the last '&'\n    }\n\n    var fullYear = \"\";\n\n    if (extraTeacher != \"\" || extraSubj != \"\" || extraStud != \"\") {\n      fullYear = \"?\";\n      fullYear += extraTeacher;\n      fullYear += extraSubj;\n      fullYear += extraStud;\n      fullYear = fullYear.substring(0, fullYear.length - 1); // ignore the last '&'\n    }\n\n    var fullSubj = \"\";\n\n    if (extraTeacher != \"\" || extraYear != \"\" || extraStud != \"\") {\n      fullSubj = \"?\";\n      fullSubj += extraYear;\n      fullSubj += extraStud;\n      fullSubj += extraTeacher;\n      fullSubj = fullSubj.substring(0, fullSubj.length - 1); // ignore the last '&'\n    }\n\n    var fullStud = \"\";\n\n    if (extraTeacher != \"\" || extraSubj != \"\" || extraYear != \"\") {\n      fullStud = \"?\";\n      fullStud += extraTeacher;\n      fullStud += extraSubj;\n      fullStud += extraYear;\n      fullStud = fullStud.substring(0, fullStud.length - 1); // ignore the last '&'\n    }\n\n    if (extraCategory.length == 0) {\n      setData([]);\n    } else {\n      var fullNotes = \"?page=\" + selPage + \"&\";\n      fullNotes += extraTeacher;\n      fullNotes += extraSubj;\n      fullNotes += extraStud;\n      fullNotes += extraCategory;\n      fullNotes += extraYear;\n      fullNotes = fullNotes.substring(0, fullNotes.length - 1); // ignore the last '&'\n\n      fetch(process.env.REACT_APP_API + \"/notes/\" + fullNotes).then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n\n        return response.json();\n      }).then(response => {\n        if ('data' in response) {\n          setData(response.data);\n          setPageNumber(response.page.pagesNumber);\n        } else {\n          setData([]);\n          setPageNumber(1);\n        }\n\n        setLoading(false);\n      }).catch(error => {\n        console.log(\"Error getting notes!\");\n        setAlert({\n          'type': 'alert',\n          'text': 'Ocorreu um erro ao processar o teu pedido. Por favor recarrega a página.'\n        });\n      });\n    }\n\n    fetch(process.env.REACT_APP_API + \"/notes/years/\" + fullYear).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }).then(response => {\n      /*setYears(response.data.map( (year) => \n          <option value={year.id} selected={year.id == selYear}>{year.yearBegin + \"-\" + year.yearEnd}</option>\n      ))\n      */\n      if ('data' in response) {\n        var arr = response.data.map(year => {\n          const x = {\n            value: year.id,\n            label: year.yearBegin + \"-\" + year.yearEnd\n          };\n          if (x.value == selYear) setShownYear(x);\n          return x;\n        });\n        setYears(arr);\n      }\n    }).catch(error => {\n      console.log(\"Invalid parameters (no \\\"years\\\" matching)!\");\n      resetFilters();\n      setAlert({\n        'type': 'alert',\n        'text': 'Ocorreu um erro ao processar os teus filtros. Os seus valores foram reinicializados, por favor tenta novamente.'\n      });\n    });\n    fetch(process.env.REACT_APP_API + \"/notes/subjects/\" + fullSubj).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }).then(response => {\n      if ('data' in response) {\n        var arr = response.data.map(subj => {\n          const x = {\n            value: subj.paco_code,\n            label: subj.short\n          };\n          if (x.value == selectedSubject) setShownSubj(x);\n          return x;\n        });\n        setSubjects(arr);\n      }\n    }).catch(error => {\n      console.log(\"Invalid parameters (no \\\"subjects\\\" matching)!\");\n      resetFilters();\n      setAlert({\n        'type': 'alert',\n        'text': 'Ocorreu um erro ao processar os teus filtros. Os seus valores foram reinicializados, por favor tenta novamente.'\n      });\n    });\n    fetch(process.env.REACT_APP_API + \"/notes/students/\" + fullStud).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }).then(response => {\n      if ('data' in response) {\n        var arr = response.data.map(t => {\n          const x = {\n            value: t.id,\n            label: t.name\n          };\n          if (x.value == selStudent) setShownAuth(x);\n          return x;\n        });\n        setStudents(arr);\n      }\n    }).catch(error => {\n      console.log(\"Invalid parameters (no \\\"students\\\" matching)!\");\n      resetFilters();\n      setAlert({\n        'type': 'alert',\n        'text': 'Ocorreu um erro ao processar os teus filtros. Os seus valores foram reinicializados, por favor tenta novamente.'\n      });\n    });\n    fetch(process.env.REACT_APP_API + \"/notes/teachers/\" + fullTeacher).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }).then(response => {\n      if ('data' in response) {\n        var arr = response.data.map(t => {\n          const x = {\n            value: t.id,\n            label: t.name\n          };\n          if (x.value == selTeacher) setShownTeacher(x);\n          return x;\n        });\n        setTeachers(arr);\n      }\n    }).catch(error => {\n      console.log(\"Invalid parameters (no \\\"teachers\\\" matching)!\");\n      resetFilters();\n      setAlert({\n        'type': 'alert',\n        'text': 'Ocorreu um erro ao processar os teus filtros. Os seus valores foram reinicializados, por favor tenta novamente.'\n      });\n    });\n  }, [activeFilters, selectedSubject, selStudent, selYear, selPage, selTeacher]);\n  useEffect(() => {\n    setSelPage(1);\n  }, [activeFilters, selectedSubject, selStudent, selYear, selTeacher]); // This method allows user to share the filtering parameters through a parameterized URL\n\n  let linkShare = () => {\n    // Build URL\n    let url = window.location.origin + window.location.pathname + '?';\n    if (selYear != \"\") url += `year=${selYear}&`;\n    if (selectedSubject != \"\") url += `subject=${selectedSubject}&`;\n    if (selStudent != \"\") url += `author=${selStudent}&`;\n    if (selTeacher != \"\") url += `teacher=${selTeacher}&`; // Only include filters tags if not all selected (because if missing from url, all will be selected by default)\n\n    if (activeFilters.length !== filters.length) {\n      for (var i = 0; i < activeFilters.length; i++) {\n        url += \"category=\" + filters.filter(f => f['filter'] == activeFilters[i])[0]['db'] + \"&\";\n      }\n    } // Copy to user's clipboard\n\n\n    navigator.clipboard.writeText(url.slice(0, -1)); // Remove last char (? if no filters or extra &)\n\n    setAlert({\n      'type': 'info',\n      'text': \"O URL foi copiado para a área de transferência! :)\"\n    });\n  };\n\n  let resetFilters = () => {\n    setSelectedSubject(\"\");\n    setSelStudent(\"\");\n    setSelTeacher(\"\");\n    setSelYear(\"\");\n    setShownYear(\"\");\n    setShownSubj(\"\");\n    setShownAuth(\"\");\n    setShownTeacher(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"apontamentosPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"d-flex flex-column mb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-2\",\n        children: /*#__PURE__*/_jsxDEV(Typist, {\n          children: \"Apontamentos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Alert, {\n        alert: alert,\n        setAlert: setAlert\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"d-flex flex-column\",\n        lg: \"4\",\n        xl: \"3\",\n        children: [selectedNote && selectedNote.id && /*#__PURE__*/_jsxDEV(Details, {\n          className: \"order-2 order-lg-0\",\n          note_id: selectedNote.id,\n          close: () => setSelectedNote(null),\n          setSelYear: setSelYear,\n          setSelectedSubject: setSelectedSubject,\n          setSelStudent: setSelStudent,\n          setSelTeacher: setSelTeacher,\n          setSelPage: setSelPage,\n          setAlert: setAlert\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filtros order-0 order-lg-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Filtros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 25\n          }, this), (selectedSubject || selStudent || selTeacher || selYear) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-row flex-wrap mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"rounded-pill btn btn-outline-primary btn-sm pill animation mr-2\",\n              onClick: () => linkShare(),\n              title: \"Copiar link com filtros\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-1\",\n                children: \"Partilhar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"my-auto link\",\n                icon: faShareAlt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"rounded-pill btn btn-outline-primary btn-sm pill animation mr-2\",\n              onClick: () => resetFilters(),\n              title: \"Remover filtros\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-1\",\n                children: \"Limpar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"my-auto link\",\n                icon: faTimes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            id: \"teste\",\n            className: \"react-select\",\n            options: years,\n            onChange: e => {\n              if (e == null) {\n                setSelYear(\"\");\n                setShownYear(\"\");\n              } else setSelYear(e.value);\n            },\n            placeholder: \"Ano Letivo...\",\n            isClearable: true,\n            value: shownYear\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            className: \"react-select\",\n            options: subjects,\n            onChange: e => {\n              if (e == null) {\n                setSelectedSubject(\"\");\n                setShownSubj(\"\");\n              } else setSelectedSubject(e.value);\n            },\n            placeholder: \"Cadeira...\",\n            isClearable: true,\n            value: shownSubj\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            className: \"react-select\",\n            options: student,\n            onChange: e => {\n              if (e == null) {\n                setSelStudent(\"\");\n                setShownAuth(\"\");\n              } else setSelStudent(e.value);\n            },\n            placeholder: \"Autor...\",\n            isClearable: true,\n            value: shownAuth\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            className: \"react-select\",\n            options: teachers,\n            onChange: e => {\n              if (e == null) {\n                setSelTeacher(\"\");\n                setShownTeacher(\"\");\n              } else setSelTeacher(e.value);\n            },\n            placeholder: \"Professor...\",\n            isClearable: true,\n            value: shownTeacher\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-1 order-lg-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mt-3\",\n            children: \"Categorias\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Filters, {\n            accordion: true,\n            filterList: filters,\n            activeFilters: activeFilters,\n            setActiveFilters: setActiveFilters,\n            className: \"mb-5\",\n            btnClass: \"btn-sm\",\n            listClass: \"d-flex flex-column\",\n            allBtnClass: \"mb-2 p-0 col-12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: \"8\",\n        xl: \"9\",\n        children: [/*#__PURE__*/_jsxDEV(Tab.Container, {\n          defaultActiveKey: window.innerWidth >= 992 ? \"grid\" : \"list\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Nav, {\n              onSelect: () => setSelectedNote(null),\n              children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n                className: \"mx-auto mx-lg-0 ml-lg-0 d-none d-lg-block\",\n                children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"grid\",\n                  className: \"h5\",\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faTh\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-3\",\n                    children: \"Grid\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 97\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                className: \"mx-auto mx-lg-0 mr-lg-auto d-none d-lg-block\",\n                children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"list\",\n                  className: \"h5\",\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faThList\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"ml-3\",\n                    children: \"List\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 502,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 100\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(PageNav, {\n                page: selPage,\n                total: pageNumber,\n                handler: fetchPage,\n                className: \"mx-auto mx-lg-0 ml-lg-auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n            children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n              eventKey: \"grid\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex\",\n                children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n                  animation: \"grow\",\n                  variant: \"primary\",\n                  className: \"mx-auto mt-3\",\n                  title: \"A carregar...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 45\n                }, this) : data.length == 0 ? /*#__PURE__*/_jsxDEV(Col, {\n                  sm: 12,\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-center mt-3\",\n                    children: \"Nenhum apontamento encontrado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"text-center\",\n                    children: \"Tente definir filtros menos restritivos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 49\n                }, this) : /*#__PURE__*/_jsxDEV(GridView, {\n                  data: data,\n                  setSelected: setSelectedNote\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n              eventKey: \"list\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-column\",\n                children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n                  animation: \"grow\",\n                  variant: \"primary\",\n                  className: \"mx-auto mt-3\",\n                  title: \"A carregar...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 45\n                }, this) : data.length == 0 ? /*#__PURE__*/_jsxDEV(Col, {\n                  sm: 12,\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-center mt-3\",\n                    children: \"Nenhum apontamento encontrado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 541,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"text-center\",\n                    children: \"Tente definir filtros menos restritivos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 542,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 49\n                }, this) : /*#__PURE__*/_jsxDEV(ListView, {\n                  data: data,\n                  setSelYear: setSelYear,\n                  setSelectedSubject: setSelectedSubject,\n                  setSelStudent: setSelStudent,\n                  setSelTeacher: setSelTeacher\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 21\n        }, this), !loading && /*#__PURE__*/_jsxDEV(PageNav, {\n          page: selPage,\n          total: pageNumber,\n          handler: fetchPage,\n          className: \"mx-auto d-lg-none mt-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Foi gra\\xE7as a pessoas como tu que esta p\\xE1gina se tornou poss\\xEDvel!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 17\n      }, this), thanks.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"m-0\",\n          children: \"O nosso agradecimento aos que mais contribuiram.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: thanks.map(t => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mx-auto my-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"\",\n              children: t.author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: '/apontamentos?author=' + t.authorId,\n                children: \"Os seus apontamentos no site do NEI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 45\n              }, this), t.personalPage && /*#__PURE__*/_jsxDEV(\"a\", {\n                href: t.personalPage,\n                target: \"_blank\",\n                children: \"Website de apontamentos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 67\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Junta-te a elas e ajuda-nos a manter este reposit\\xF3rio atualizado com os conte\\xFAdos mais recentes. Partilha connosco os teus atrav\\xE9s do email \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"mailto:nei@aauav.pt\",\n          children: \"nei@aauav.pt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 161\n        }, this), \". Contamos com o teu apoio!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Apontamentos, \"kJifzaQYGHHSgc90Fojndq0Br30=\");\n\n_c = Apontamentos;\nexport default Apontamentos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Apontamentos\");","map":{"version":3,"sources":["/home/dan1erusam4/.ssh/Website/src/Pages/Apontamentos/index.js"],"names":["React","useState","useEffect","Row","Col","Tab","Nav","Spinner","FontAwesomeIcon","faTh","faThList","faTimes","faShareAlt","ListView","GridView","PageNav","Filters","Alert","Details","Select","Typist","categoryFilters","Apontamentos","selectedNote","setSelectedNote","data","setData","filters","setFilters","activeFilters","setActiveFilters","selection","setSelection","subjects","setSubjects","selectedSubject","setSelectedSubject","subjectName","setSubjectName","years","setYears","selYear","setSelYear","student","setStudents","selStudent","setSelStudent","teachers","setTeachers","selTeacher","setSelTeacher","pageNumber","setPageNumber","selPage","setSelPage","shownYear","setShownYear","shownSubj","setShownSubj","shownAuth","setShownAuth","shownTeacher","setShownTeacher","thanks","setThanks","loading","setLoading","alert","setAlert","fetchPage","p_num","console","log","map","content","filter","urlParams","URLSearchParams","window","location","search","get","active","getAll","forEach","categoryParam","find","f","db","push","length","url","document","href","history","pushState","split","fetch","process","env","REACT_APP_API","then","response","ok","Error","status","json","catch","error","extraYear","extraSubj","extraStud","extraTeacher","extraCategory","i","fullTeacher","substring","fullYear","fullSubj","fullStud","fullNotes","page","pagesNumber","arr","year","x","value","id","label","yearBegin","yearEnd","resetFilters","subj","paco_code","short","t","name","linkShare","origin","pathname","navigator","clipboard","writeText","slice","e","innerWidth","author","authorId","personalPage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Row, Col, Tab, Nav, Spinner } from 'react-bootstrap';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTh, faThList, faTimes, faShareAlt } from '@fortawesome/free-solid-svg-icons';\nimport ListView from './ListView';\nimport GridView from './GridView';\nimport \"./index.css\";\nimport PageNav from '../../Components/PageNav';\nimport Filters from \"../../Components/Filters\";\nimport Alert from '../../Components/Alert';\nimport Details from \"./Details\";\nimport Select from \"react-select\";\nimport Typist from 'react-typist';\nimport categoryFilters from './filters';\n\nconst Apontamentos = () => {\n\n    // Grid view selected note\n    const [selectedNote, setSelectedNote] = useState(null);\n\n\n    // useStates and other variables\n    const [data, setData] = useState([]);\n    const [filters, setFilters] = useState([]);\n    const [activeFilters, setActiveFilters] = useState([]);\n    const [selection, setSelection] = useState([]);\n\n    const [subjects, setSubjects] = useState([]); // todos os subjects\n    const [selectedSubject, setSelectedSubject] = useState(\"\");\n    const [subjectName, setSubjectName] = useState(\"\");\n    const [years, setYears] = useState(\"\");\n    const [selYear, setSelYear] = useState(\"\");\n    //const [selSemester, setSelSemester] = useState(\"\"); // Will we use this? --> no :P\n    const [student, setStudents] = useState(\"\");\n    const [selStudent, setSelStudent] = useState(\"\");\n    const [teachers, setTeachers] = useState(\"\");\n    const [selTeacher, setSelTeacher] = useState(\"\");\n    const [pageNumber, setPageNumber] = useState(1);\n    const [selPage, setSelPage] = useState(1);\n\n\n    const [shownYear, setShownYear] = useState();\n    const [shownSubj, setShownSubj] = useState();\n    const [shownAuth, setShownAuth] = useState();\n    const [shownTeacher, setShownTeacher] = useState();\n\n    const [thanks, setThanks] = useState([]);\n\n    const [loading, setLoading] = useState(true);\n\n    const [alert, setAlert] = useState({\n        'type': null,\n        'text': \"\"\n    })\n\n\n    const fetchPage = (p_num) => {\n        console.log(\"currPage: \" + selPage + \", new_page: \" + p_num);\n\n        setSelPage(p_num);\n    }\n\n    // When page loads\n    useEffect(() => {\n        // 1. Load category filters (static)\n        setFilters(categoryFilters);\n        setActiveFilters(categoryFilters.map(content => content.filter));\n        // 2. Check if there are filtering parameters on URL\n        // Get parameters and apply to filters\n        const urlParams = new URLSearchParams(window.location.search);\n        if(urlParams.get('year'))\n            setSelYear(urlParams.get('year'));\n        if(urlParams.get('subject'))\n            setSelectedSubject(urlParams.get('subject'));\n        if(urlParams.get('author'))\n            setSelStudent(urlParams.get('author'));\n        if(urlParams.get('teacher'))\n            setSelTeacher(urlParams.get('teacher'));\n        let active = [];\n        urlParams.getAll('category').forEach((categoryParam) => {\n            let find = categoryFilters.find(f => f.db==categoryParam);\n            if (find) \n                active.push(find.filter);\n        });\n        if (active.length>0) {\n            setActiveFilters(active);\n        }\n        // Remove data from URL\n        var url = document.location.href;\n        window.history.pushState({}, \"\", url.split(\"?\")[0]);\n        // Load thanks\n        fetch(process.env.REACT_APP_API + \"/notes/thanks/\")\n            .then((response) => {\n                if (!response.ok) {throw new Error(response.status)}\n                return response.json()\n            })\n            .then((response) => {\n                if ('data' in response) {\n                    setThanks(response['data']);\n                }\n            })\n            .catch((error) => {\n                console.log(\"Error getting thanks\", error);\n            });\n    }, []);\n\n    useEffect(() => {\n\n        setLoading(true);\n\n        // Every time a new call is made to the API, close details\n        setSelectedNote(null);\n\n\n        // extraVarName --> base used to concatenate and compare the optionals of every fetch\n        var extraYear = selYear == \"\" ? \"\" : \"schoolYear=\" + selYear + \"&\";\n        var extraSubj = selectedSubject == \"\" ? \"\" : \"subject=\" + selectedSubject + \"&\";\n        var extraStud = selStudent == \"\" ? \"\" : \"student=\" + selStudent + \"&\";\n        var extraTeacher = selTeacher == \"\" ? \"\" : \"teacher=\" + selTeacher + \"&\";\n        var extraCategory = \"\";\n\n        for (var i = 0; i < activeFilters.length; i++) {\n            extraCategory += \"category[]=\" + filters.filter(f => f['filter'] == activeFilters[i])[0]['db'] + \"&\";\n        }\n\n        if (activeFilters.length == 0) {\n            setData([]);\n            setSelPage(1);\n            setPageNumber(1);\n            setLoading(false);\n            return;\n        }\n\n\n        // fullVarName --> sum of optionals of every fetch\n        var fullTeacher = \"\";\n\n        if (extraYear != \"\" || extraSubj != \"\" || extraStud != \"\") {\n            fullTeacher = \"?\";\n            fullTeacher += extraYear;\n            fullTeacher += extraSubj;\n            fullTeacher += extraStud;\n            fullTeacher = fullTeacher.substring(0, fullTeacher.length - 1); // ignore the last '&'\n        }\n\n        var fullYear = \"\";\n\n        if (extraTeacher != \"\" || extraSubj != \"\" || extraStud != \"\") {\n            fullYear = \"?\";\n            fullYear += extraTeacher;\n            fullYear += extraSubj;\n            fullYear += extraStud;\n            fullYear = fullYear.substring(0, fullYear.length - 1); // ignore the last '&'\n        }\n\n        var fullSubj = \"\";\n\n        if (extraTeacher != \"\" || extraYear != \"\" || extraStud != \"\") {\n            fullSubj = \"?\";\n            fullSubj += extraYear;\n            fullSubj += extraStud;\n            fullSubj += extraTeacher;\n            fullSubj = fullSubj.substring(0, fullSubj.length - 1); // ignore the last '&'\n        }\n\n        var fullStud = \"\";\n\n        if (extraTeacher != \"\" || extraSubj != \"\" || extraYear != \"\") {\n            fullStud = \"?\";\n            fullStud += extraTeacher;\n            fullStud += extraSubj;\n            fullStud += extraYear;\n            fullStud = fullStud.substring(0, fullStud.length - 1); // ignore the last '&'\n        }\n\n        if (extraCategory.length == 0) {\n            setData([]);\n        }\n        else {\n            var fullNotes = \"?page=\" + selPage + \"&\";\n\n            fullNotes += extraTeacher;\n            fullNotes += extraSubj;\n            fullNotes += extraStud;\n            fullNotes += extraCategory;\n            fullNotes += extraYear;\n            fullNotes = fullNotes.substring(0, fullNotes.length - 1); // ignore the last '&'\n\n            fetch(process.env.REACT_APP_API + \"/notes/\" + fullNotes)\n                .then((response) => {\n                    if (!response.ok) {throw new Error(response.status)}\n                    return response.json()\n                })\n                .then((response) => {\n                    if ('data' in response) {\n                        setData(response.data)\n                        setPageNumber(response.page.pagesNumber);\n                    } else {\n                        setData([]);\n                        setPageNumber(1);\n                    }\n                    setLoading(false);\n                })\n                .catch((error) => {\n                    console.log(\"Error getting notes!\");\n                    setAlert({\n                        'type': 'alert',\n                        'text': 'Ocorreu um erro ao processar o teu pedido. Por favor recarrega a página.'\n                    });\n                });\n        }\n\n        fetch(process.env.REACT_APP_API + \"/notes/years/\" + fullYear)\n            .then((response) => {\n                if (!response.ok) {throw new Error(response.status)}\n                return response.json()\n            })\n            .then((response) => {\n                /*setYears(response.data.map( (year) => \n                    <option value={year.id} selected={year.id == selYear}>{year.yearBegin + \"-\" + year.yearEnd}</option>\n                ))\n                */\n                if ('data' in response) {\n                    var arr = response.data.map(year => {\n\n                        const x = { value: year.id, label: year.yearBegin + \"-\" + year.yearEnd };\n                        if (x.value == selYear)\n                            setShownYear(x)\n                        return x;\n                    })\n\n                    setYears(arr)\n                }\n            })\n            .catch((error) => {\n                console.log(\"Invalid parameters (no \\\"years\\\" matching)!\");\n                resetFilters();\n                setAlert({\n                    'type': 'alert',\n                    'text': 'Ocorreu um erro ao processar os teus filtros. Os seus valores foram reinicializados, por favor tenta novamente.'\n                });\n            });\n\n        fetch(process.env.REACT_APP_API + \"/notes/subjects/\" + fullSubj)\n            .then((response) => {\n                if (!response.ok) {throw new Error(response.status)}\n                return response.json()\n            })\n            .then((response) => {\n\n                if ('data' in response) {\n\n\n                    var arr = response.data.map(subj => {\n\n                        const x = { value: subj.paco_code, label: subj.short };\n                        if (x.value == selectedSubject)\n                            setShownSubj(x)\n                        return x;\n                    })\n\n                    setSubjects(arr)\n                }\n            })\n            .catch((error) => {\n                console.log(\"Invalid parameters (no \\\"subjects\\\" matching)!\");\n                resetFilters();\n                setAlert({\n                    'type': 'alert',\n                    'text': 'Ocorreu um erro ao processar os teus filtros. Os seus valores foram reinicializados, por favor tenta novamente.'\n                });\n            });\n\n        fetch(process.env.REACT_APP_API + \"/notes/students/\" + fullStud)\n            .then((response) => {\n                if (!response.ok) {throw new Error(response.status)}\n                return response.json()\n            })\n            .then((response) => {\n\n                if ('data' in response) {\n                    var arr = response.data.map(t => {\n                        const x = { value: t.id, label: t.name };\n                        if (x.value == selStudent)\n                            setShownAuth(x)\n\n                        return x;\n                    })\n\n                    setStudents(arr)\n                }\n            })\n            .catch((error) => {\n                console.log(\"Invalid parameters (no \\\"students\\\" matching)!\");\n                resetFilters();\n                setAlert({\n                    'type': 'alert',\n                    'text': 'Ocorreu um erro ao processar os teus filtros. Os seus valores foram reinicializados, por favor tenta novamente.'\n                });\n            });\n\n\n        fetch(process.env.REACT_APP_API + \"/notes/teachers/\" + fullTeacher)\n            .then((response) => {\n                if (!response.ok) {throw new Error(response.status)}\n                return response.json()\n            })\n            .then((response) => {\n                if ('data' in response) {\n                    var arr = response.data.map(t => {\n                        const x = { value: t.id, label: t.name };\n                        if (x.value == selTeacher)\n                            setShownTeacher(x)\n\n                        return x;\n                    })\n\n                    setTeachers(arr)\n                }\n            })\n            .catch((error) => {\n                console.log(\"Invalid parameters (no \\\"teachers\\\" matching)!\");\n                resetFilters();\n                setAlert({\n                    'type': 'alert',\n                    'text': 'Ocorreu um erro ao processar os teus filtros. Os seus valores foram reinicializados, por favor tenta novamente.'\n                });\n            });\n\n    }, [activeFilters, selectedSubject, selStudent, selYear, selPage, selTeacher]);\n\n    useEffect(() => {\n        setSelPage(1);\n    }, [activeFilters, selectedSubject, selStudent, selYear, selTeacher])\n\n    // This method allows user to share the filtering parameters through a parameterized URL\n    let linkShare = () => {\n        // Build URL\n        let url = window.location.origin + window.location.pathname + '?';\n        if (selYear!=\"\")\n            url += `year=${selYear}&`;\n        if (selectedSubject!=\"\")\n            url += `subject=${selectedSubject}&`;\n        if (selStudent!=\"\")\n            url += `author=${selStudent}&`;\n        if (selTeacher!=\"\")\n            url += `teacher=${selTeacher}&`;\n        // Only include filters tags if not all selected (because if missing from url, all will be selected by default)\n        if (activeFilters.length !== filters.length) {\n            for (var i = 0; i < activeFilters.length; i++) {\n                url += \"category=\" + filters.filter(f => f['filter'] == activeFilters[i])[0]['db'] + \"&\";\n            }\n        }\n        // Copy to user's clipboard\n        navigator.clipboard.writeText(url.slice(0, -1)); // Remove last char (? if no filters or extra &)\n        setAlert({\n            'type': 'info',\n            'text': \"O URL foi copiado para a área de transferência! :)\"\n        });\n    }\n\n    let resetFilters = () => {\n        setSelectedSubject(\"\");\n        setSelStudent(\"\");\n        setSelTeacher(\"\");\n        setSelYear(\"\");\n        setShownYear(\"\");\n        setShownSubj(\"\");\n        setShownAuth(\"\");\n        setShownTeacher(\"\");\n    }\n\n    return (\n        <div id=\"apontamentosPage\">\n            <div class=\"d-flex flex-column mb-5\">\n                <h2 className=\"text-center mb-2\">\n                    <Typist>Apontamentos</Typist>\n                </h2>\n                <Alert \n                    alert={alert}\n                    setAlert={setAlert}\n                />\n            </div>\n\n            <Row className=\"mt-4\">\n                <Col className=\"d-flex flex-column\" lg=\"4\" xl=\"3\">\n                    {\n                        selectedNote && selectedNote.id &&\n                        <Details\n                            className=\"order-2 order-lg-0\"\n                            note_id={selectedNote.id}\n                            close={() => setSelectedNote(null)}\n                            setSelYear={setSelYear}\n                            setSelectedSubject={setSelectedSubject}\n                            setSelStudent={setSelStudent}\n                            setSelTeacher={setSelTeacher}\n                            setSelPage={setSelPage}\n                            setAlert={setAlert}\n                        />\n                    }\n\n                    <div className=\"filtros order-0 order-lg-1\">\n\n                        <h4>Filtros</h4>\n                        {\n                            (selectedSubject || selStudent || selTeacher || selYear) &&\n                                <div className=\"d-flex flex-row flex-wrap mb-2\">\n                                    <button \n                                        className=\"rounded-pill btn btn-outline-primary btn-sm pill animation mr-2\"\n                                        onClick={() => linkShare()}    \n                                        title=\"Copiar link com filtros\"\n                                    >\n                                        <span className=\"mr-1\">Partilhar</span>\n                                        <FontAwesomeIcon\n                                            className=\"my-auto link\"\n                                            icon={faShareAlt}\n                                        />\n                                    </button>\n                                    <button \n                                        className=\"rounded-pill btn btn-outline-primary btn-sm pill animation mr-2\"\n                                        onClick={() => resetFilters()}    \n                                        title=\"Remover filtros\"\n                                    >\n                                        <span className=\"mr-1\">Limpar</span>\n                                        <FontAwesomeIcon \n                                            className=\"my-auto link\" \n                                            icon={faTimes} \n                                        />\n                                    </button>\n                                </div>\n                        }\n\n                        <Select\n                            id=\"teste\"\n                            className=\"react-select\"\n                            options={years}\n                            onChange={(e) => { if (e == null) { setSelYear(\"\"); setShownYear(\"\") } else setSelYear(e.value); }}\n                            placeholder=\"Ano Letivo...\"\n                            isClearable={true}\n                            value={shownYear}\n\n                        />\n\n                        <Select\n                            className=\"react-select\"\n                            options={subjects}\n                            onChange={(e) => { if (e == null) { setSelectedSubject(\"\"); setShownSubj(\"\") } else setSelectedSubject(e.value) }}\n                            placeholder=\"Cadeira...\"\n                            isClearable={true}\n                            value={shownSubj}\n                        />\n\n                        <Select\n                            className=\"react-select\"\n                            options={student}\n                            onChange={(e) => { if (e == null) { setSelStudent(\"\"); setShownAuth(\"\") } else setSelStudent(e.value) }}\n                            placeholder=\"Autor...\"\n                            isClearable={true}\n                            value={shownAuth}\n                        />\n\n                        <Select\n                            className=\"react-select\"\n                            options={teachers}\n                            onChange={(e) => { if (e == null) { setSelTeacher(\"\"); setShownTeacher(\"\") } else setSelTeacher(e.value) }}\n                            placeholder=\"Professor...\"\n                            isClearable={true}\n                            value={shownTeacher}\n                        />\n                    </div>\n\n                    <div className=\"order-1 order-lg-3\">\n                        <h4 className=\"mt-3\">Categorias</h4>\n                        <Filters\n                            accordion={true}\n                            filterList={filters}\n                            activeFilters={activeFilters}\n                            setActiveFilters={setActiveFilters}\n                            className=\"mb-5\"\n                            btnClass=\"btn-sm\"\n                            listClass=\"d-flex flex-column\"\n                            allBtnClass=\"mb-2 p-0 col-12\"\n                        />\n                    </div>\n                </Col>\n\n                {/* The two views are controlled by a bootstrap tabs component,\n                 ** using a custom layout. The Nav element contains the buttons that switch\n                 ** the views, which are specified in each Tab.Pane element.\n                */}\n                <Col lg=\"8\" xl=\"9\">\n\n                    <Tab.Container defaultActiveKey={window.innerWidth>=992 ? \"grid\" : \"list\"}>\n                        <div>\n                            <Nav onSelect={() => setSelectedNote(null)}>\n                                <Nav.Item className=\"mx-auto mx-lg-0 ml-lg-0 d-none d-lg-block\"><Nav.Link eventKey=\"grid\" className=\"h5\">\n                                    <FontAwesomeIcon icon={faTh} />\n                                    <span className=\"ml-3\">Grid</span>\n                                </Nav.Link></Nav.Item>\n                                <Nav.Item className=\"mx-auto mx-lg-0 mr-lg-auto d-none d-lg-block\"><Nav.Link eventKey=\"list\" className=\"h5\">\n                                    <FontAwesomeIcon icon={faThList} />\n                                    <span className=\"ml-3\">List</span>\n                                </Nav.Link></Nav.Item>\n                                <PageNav\n                                    page={selPage}\n                                    total={pageNumber}\n                                    handler={fetchPage}\n                                    className=\"mx-auto mx-lg-0 ml-lg-auto\"\n                                ></PageNav>\n                            </Nav>\n                        </div>\n\n                        <Tab.Content>\n                            <Tab.Pane eventKey=\"grid\">\n                                <div className=\"d-flex\">\n                                    {\n                                        loading ?\n                                            <Spinner animation=\"grow\" variant=\"primary\" className=\"mx-auto mt-3\" title=\"A carregar...\" />\n                                            :\n                                            data.length == 0 ?\n                                                <Col sm={12}>\n                                                    <h3 className=\"text-center mt-3\">Nenhum apontamento encontrado</h3>\n                                                    <h4 className=\"text-center\">Tente definir filtros menos restritivos</h4>\n                                                </Col>\n                                                :\n                                                <GridView\n                                                    data={data}\n                                                    setSelected={setSelectedNote}\n                                                ></GridView>\n                                    }\n                                </div>\n                            </Tab.Pane>\n                            <Tab.Pane eventKey=\"list\" >\n                                <div className=\"d-flex flex-column\">\n                                    {\n                                        loading ?\n                                            <Spinner animation=\"grow\" variant=\"primary\" className=\"mx-auto mt-3\" title=\"A carregar...\" />\n                                            :\n                                            data.length == 0 ?\n                                                <Col sm={12}>\n                                                    <h3 className=\"text-center mt-3\">Nenhum apontamento encontrado</h3>\n                                                    <h4 className=\"text-center\">Tente definir filtros menos restritivos</h4>\n                                                </Col>\n                                                :\n                                                <ListView\n                                                    data={data}\n                                                    setSelYear={setSelYear}\n                                                    setSelectedSubject={setSelectedSubject}\n                                                    setSelStudent={setSelStudent}\n                                                    setSelTeacher={setSelTeacher}\n                                                ></ListView>\n                                    }\n                                </div>\n                            </Tab.Pane>\n                        </Tab.Content>\n                    </Tab.Container>\n\n                    {\n                        !loading &&\n                        <PageNav\n                            page={selPage}\n                            total={pageNumber}\n                            handler={fetchPage}\n                            className=\"mx-auto d-lg-none mt-3\"\n                        ></PageNav>\n                    }\n\n                </Col>\n            </Row>\n\n            <div className=\"text-center mt-5\">\n                <h3>Foi graças a pessoas como tu que esta página se tornou possível!</h3>\n                {\n                    thanks.length &&\n                    <div>\n                        <p className=\"m-0\">O nosso agradecimento aos que mais contribuiram.</p>\n\n                        <Row>\n                            {\n                                thanks.map(t => \n                                    <div className=\"mx-auto my-3\">\n                                        <h4 className=\"\">{t.author}</h4>\n                                        <div className=\"small\">\n                                            <a href={'/apontamentos?author=' + t.authorId}>Os seus apontamentos no site do NEI</a>\n                                            <br/>\n                                            {\n                                                t.personalPage && <a href={t.personalPage} target=\"_blank\">Website de apontamentos</a>\n                                            }\n                                        </div>\n                                    </div>\n                                )\n                            }\n                        </Row>\n                    </div>\n                }\n                <p>\n                    Junta-te a elas e ajuda-nos a manter este repositório atualizado com os conteúdos mais recentes. Partilha connosco os teus através do email <a href=\"mailto:nei@aauav.pt\">nei@aauav.pt</a>. Contamos com o teu apoio!\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default Apontamentos;"]},"metadata":{},"sourceType":"module"}