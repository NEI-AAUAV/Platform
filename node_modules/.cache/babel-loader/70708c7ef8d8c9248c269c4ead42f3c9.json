{"ast":null,"code":"var _jsxFileName = \"/home/dan1erusam4/University/NEI/Website/src/Pages/Apontamentos/Details/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Spinner, Nav, Tab } from \"react-bootstrap\";\nimport './index.css';\nimport parse from 'html-react-parser';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faInfoCircle, faFilter, faCloudDownloadAlt } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction titleCase(str) {\n  var splitStr = str.toLowerCase().split(' ');\n\n  for (var i = 0; i < splitStr.length; i++) {\n    // You do not need to check if i is larger than splitStr length, as your for does that for you\n    // Assign it back to the array\n    splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n  } // Directly return the joined string\n\n\n  return splitStr.join(' ');\n}\n\nconst Details = ({\n  note_id,\n  close,\n  setSelectedSubject,\n  setSelYear,\n  setSelStudent,\n  setSelTeacher,\n  setSelPage,\n  className,\n  setAlert\n}) => {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [note, setNote] = useState(null);\n  const [tags, setTags] = useState([]);\n  useEffect(() => {\n    setLoading(true); // Get note data from API when component loads\n\n    fetch(process.env.REACT_APP_API + \"/notes/?note=\" + note_id).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }).then(response => {\n      if ('data' in response && response['data']) {\n        setNote(response.data);\n      } else {\n        throw new Error('Note not found!');\n      }\n    }).catch(error => {\n      console.log(\"Error getting note:\", note_id, error);\n      setAlert({\n        'type': 'alert',\n        'text': 'Ocorreu um erro ao obter os dados do apontamento que selecionaste. Por favor tenta novamente.'\n      });\n    }).finally(() => {\n      setLoading(false);\n    });\n  }, [note_id]);\n  useEffect(() => {\n    var note_tags = [];\n\n    if (note) {\n      note.summary == \"1\" && note_tags.push({\n        \"name\": \"Resumos\",\n        \"className\": \"tag-summary\"\n      });\n      note.tests == \"1\" && note_tags.push({\n        \"name\": \"Testes e exames\",\n        \"className\": \"tag-tests\"\n      });\n      note.bibliography == \"1\" && note_tags.push({\n        \"name\": \"Bibliografia\",\n        \"className\": \"tag-biblio\"\n      });\n      note.slides == \"1\" && note_tags.push({\n        \"name\": \"Slides\",\n        \"className\": \"tag-slides\"\n      });\n      note.exercises == \"1\" && note_tags.push({\n        \"name\": \"Exercícios\",\n        \"className\": \"tag-exercises\"\n      });\n      note.projects == \"1\" && note_tags.push({\n        \"name\": \"Projetos\",\n        \"className\": \"tag-projects\"\n      });\n      note.notebook == \"1\" && note_tags.push({\n        \"name\": \"Caderno\",\n        \"className\": \"tag-notebook\"\n      });\n    }\n\n    setTags(note_tags); // Scroll to element\n\n    if (document.getElementById(\"apontamentosPage\") != null) {\n      document.getElementById(\"apontamentosPage\").scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [note]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notesDetails bg-white p-3 mb-4 animation d-flex flex-column \" + className,\n    children: loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"grow\",\n      variant: \"primary\",\n      className: \"mx-auto mt-3\",\n      title: \"A carregar...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"break-all mr-auto\",\n          children: note.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"close mb-auto ml-auto\",\n          \"data-dismiss\": \"modal\",\n          \"aria-label\": \"Close\",\n          onClick: close,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            \"aria-hidden\": \"true\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mx-0 my-3\",\n        children: tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-0 mb-1 mr-1 badge badge-pill \" + tag.className,\n          children: tag.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 37\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: parseInt(note.type_external) ? note.location : process.env.REACT_APP_STATIC + note.location,\n        target: \"_blank\",\n        rel: \"noreferrer\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-outline-primary mb-3 ml-0\",\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: note.type_icon_download.split(\" \"),\n            size: \"1x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-1\",\n            children: note.type_download_caption\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this), false && /*#__PURE__*/_jsxDEV(Tab.Container, {\n        defaultActiveKey: \"first\",\n        id: \"uncontrolled-tab-example\",\n        className: \"mb-3\",\n        children: [note.content && /*#__PURE__*/_jsxDEV(Nav, {\n          variant: \"pills\",\n          className: \"flex-row\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"first\",\n              children: \"Detalhes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              eventKey: \"second\",\n              children: \"Conte\\xFAdo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n          children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n            eventKey: \"first\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Tab1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n            eventKey: \"second\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Tab2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"dl\", {\n          children: [note.yearBegin && note.yearEnd && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"small font-weight-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-1\",\n                children: \"Ano letivo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"text-primary mr-1 link\",\n                icon: faFilter,\n                size: \"1x\",\n                title: \"Filtrar por ano letivo\",\n                onClick: () => {\n                  setSelYear(note.yearId);\n                  setSelPage(1);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              children: [note.yearBegin, \"/\", note.yearEnd]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true), note.subjectName && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"small font-weight-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-1\",\n                children: \"Cadeira\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"text-primary mr-1 link\",\n                icon: faFilter,\n                size: \"1x\",\n                title: \"Filtrar por cadeira\",\n                onClick: () => {\n                  setSelectedSubject(note.subjectId);\n                  setSelPage(1);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              children: note.subjectName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true), note.authorName && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"small font-weight-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-1\",\n                children: \"Autor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"text-primary mr-1 link\",\n                icon: faFilter,\n                size: \"1x\",\n                title: \"Filtrar por autor\",\n                onClick: () => {\n                  setSelStudent(note.authorId);\n                  setSelPage(1);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              children: titleCase(note.authorName)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true), note.teacherName && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"small font-weight-bold\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mr-1\",\n                  children: \"Docente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  className: \"text-primary mr-1 link\",\n                  icon: faFilter,\n                  size: \"1x\",\n                  title: \"Filtrar por docente\",\n                  onClick: () => {\n                    setSelTeacher(note.teacherId);\n                    setSelPage(1);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 41\n              }, this), note.teacherPage && /*#__PURE__*/_jsxDEV(\"a\", {\n                title: \"Perfil do docente ua.pt\",\n                href: note.teacherPage,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  className: \"text-primary mr-3\",\n                  icon: faInfoCircle,\n                  size: \"1x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n              children: note.teacherName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true), (note.content || note.size) && /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"file-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n              className: \"small font-weight-bold\",\n              children: [\"Conte\\xFAdo\", note.size && /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"ml-1\",\n                children: [\"(\", note.size, \" MB)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 55\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 37\n            }, this), note.content && /*#__PURE__*/_jsxDEV(\"dd\", {\n              children: parse(`${note.content.replace('\\n', '<br/>')}`)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Details, \"w7zX2ubhr1Ki1TgLWGERc2WCiqE=\");\n\n_c = Details;\nexport default Details;\n\nvar _c;\n\n$RefreshReg$(_c, \"Details\");","map":{"version":3,"sources":["/home/dan1erusam4/University/NEI/Website/src/Pages/Apontamentos/Details/index.js"],"names":["React","useState","useEffect","Spinner","Nav","Tab","parse","FontAwesomeIcon","faInfoCircle","faFilter","faCloudDownloadAlt","titleCase","str","splitStr","toLowerCase","split","i","length","charAt","toUpperCase","substring","join","Details","note_id","close","setSelectedSubject","setSelYear","setSelStudent","setSelTeacher","setSelPage","className","setAlert","loading","setLoading","note","setNote","tags","setTags","fetch","process","env","REACT_APP_API","then","response","ok","Error","status","json","data","catch","error","console","log","finally","note_tags","summary","push","tests","bibliography","slides","exercises","projects","notebook","document","getElementById","scrollIntoView","behavior","name","map","tag","parseInt","type_external","location","REACT_APP_STATIC","type_icon_download","type_download_caption","content","yearBegin","yearEnd","yearId","subjectName","subjectId","authorName","authorId","teacherName","teacherId","teacherPage","size","replace"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { Spinner, Nav, Tab } from \"react-bootstrap\";\nimport './index.css';\n\nimport parse from 'html-react-parser';\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faInfoCircle, faFilter, faCloudDownloadAlt } from '@fortawesome/free-solid-svg-icons';\n\nfunction titleCase(str) {\n    var splitStr = str.toLowerCase().split(' ');\n    for (var i = 0; i < splitStr.length; i++) {\n        // You do not need to check if i is larger than splitStr length, as your for does that for you\n        // Assign it back to the array\n        splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n    }\n    // Directly return the joined string\n    return splitStr.join(' ');\n}\n\nconst Details = ({ note_id, close, setSelectedSubject, setSelYear, setSelStudent, setSelTeacher, setSelPage, className, setAlert }) => {\n\n    const [loading, setLoading] = useState(true);\n    const [note, setNote] = useState(null);\n    const [tags, setTags] = useState([]);\n\n    useEffect(() => {\n        setLoading(true);\n\n        // Get note data from API when component loads\n        fetch(process.env.REACT_APP_API + \"/notes/?note=\" + note_id)\n                .then((response) => {\n                    if (!response.ok) {throw new Error(response.status)}\n                    return response.json();\n                })\n                .then((response) => {\n                    if ('data' in response && response['data']) {\n                        setNote(response.data);\n                    } else {\n                        throw new Error('Note not found!');\n                    }\n                })\n                .catch((error) => {\n                    console.log(\"Error getting note:\", note_id, error);\n                    setAlert({\n                        'type': 'alert',\n                        'text': 'Ocorreu um erro ao obter os dados do apontamento que selecionaste. Por favor tenta novamente.'\n                    });\n                })\n                .finally(() => {\n                    setLoading(false);\n                });\n    }, [note_id]);\n\n    useEffect(() => {\n        var note_tags = [];\n        if (note) {\n            note.summary == \"1\" && note_tags.push({ \"name\": \"Resumos\", \"className\": \"tag-summary\" });\n            note.tests == \"1\" && note_tags.push({ \"name\": \"Testes e exames\", \"className\": \"tag-tests\" });\n            note.bibliography == \"1\" && note_tags.push({ \"name\": \"Bibliografia\", \"className\": \"tag-biblio\" });\n            note.slides == \"1\" && note_tags.push({ \"name\": \"Slides\", \"className\": \"tag-slides\" });\n            note.exercises == \"1\" && note_tags.push({ \"name\": \"Exercícios\", \"className\": \"tag-exercises\" });\n            note.projects == \"1\" && note_tags.push({ \"name\": \"Projetos\", \"className\": \"tag-projects\" });\n            note.notebook == \"1\" && note_tags.push({ \"name\": \"Caderno\", \"className\": \"tag-notebook\" });\n        }\n        setTags(note_tags);\n\n        // Scroll to element\n        if(document.getElementById(\"apontamentosPage\")!=null) {\n            document.getElementById(\"apontamentosPage\").scrollIntoView({behavior: 'smooth'});\n        }\n    }, [note]);\n\n    return (\n        <div className={\"notesDetails bg-white p-3 mb-4 animation d-flex flex-column \" + className}>\n            {\n                loading\n                ? <Spinner animation=\"grow\" variant=\"primary\" className=\"mx-auto mt-3\" title=\"A carregar...\" />\n                : \n                <>\n                    <div className=\"d-flex flex-row\">\n                        <h4 className=\"break-all mr-auto\">{note.name}</h4>\n                        <button\n                            type=\"button\"\n                            className=\"close mb-auto ml-auto\"\n                            data-dismiss=\"modal\"\n                            aria-label=\"Close\"\n                            onClick={close}\n                        >\n                            <span aria-hidden=\"true\">×</span>\n                        </button>\n                    </div>\n                    <div className=\"row mx-0 my-3\">\n                        {\n                            tags.map(\n                                tag =>\n                                    <span\n                                        className={\"ml-0 mb-1 mr-1 badge badge-pill \" + tag.className}\n                                    >{tag.name}</span>\n                            )\n                        }\n                    </div>\n                    <a \n                        href={parseInt(note.type_external) ? note.location : process.env.REACT_APP_STATIC + note.location} \n                        target=\"_blank\" rel=\"noreferrer\"\n                        >\n                        <button className=\"btn btn-sm btn-outline-primary mb-3 ml-0\">\n                            <FontAwesomeIcon\n                                icon={note.type_icon_download.split(\" \")}\n                                size={\"1x\"}\n                            />\n                            <span className=\"ml-1\">{note.type_download_caption}</span>\n                        </button>\n                    </a>\n\n                    {\n                        false &&\n                        <Tab.Container defaultActiveKey=\"first\" id=\"uncontrolled-tab-example\" className=\"mb-3\">\n                            {\n                                note.content &&\n                                <Nav variant=\"pills\" className=\"flex-row\">\n                                    <Nav.Item>\n                                        <Nav.Link eventKey=\"first\">Detalhes</Nav.Link>\n                                    </Nav.Item>\n                                    <Nav.Item>\n                                        <Nav.Link eventKey=\"second\">Conteúdo</Nav.Link>\n                                    </Nav.Item>\n                                </Nav>\n                            }\n                            <Tab.Content>\n                                <Tab.Pane eventKey=\"first\">\n                                    <h1>Tab1</h1>\n                                </Tab.Pane>\n                                <Tab.Pane eventKey=\"second\">\n                                    <h1>Tab2</h1>\n                                </Tab.Pane>\n                            </Tab.Content>\n                        </Tab.Container>\n                    }\n\n                    <div>\n                        <dl>\n                            {\n                                note.yearBegin && note.yearEnd &&\n                                <>\n                                    <dt className=\"small font-weight-bold\">\n                                        <span className=\"mr-1\">Ano letivo</span>\n                                        <FontAwesomeIcon\n                                            className=\"text-primary mr-1 link\"\n                                            icon={faFilter}\n                                            size={\"1x\"}\n                                            title=\"Filtrar por ano letivo\"\n                                            onClick={() => { setSelYear(note.yearId); setSelPage(1) }}\n                                        />\n                                    </dt>\n                                    <dd>{note.yearBegin}/{note.yearEnd}</dd>\n                                </>\n                            }\n                            {\n                                note.subjectName &&\n                                <>\n                                    <dt className=\"small font-weight-bold\">\n                                        <span className=\"mr-1\">Cadeira</span>\n                                        <FontAwesomeIcon\n                                            className=\"text-primary mr-1 link\"\n                                            icon={faFilter}\n                                            size={\"1x\"}\n                                            title=\"Filtrar por cadeira\"\n                                            onClick={() => { setSelectedSubject(note.subjectId); setSelPage(1) }}\n                                        />\n                                    </dt>\n                                    <dd>{note.subjectName}</dd>\n                                </>\n                            }\n                            {\n                                note.authorName &&\n                                <>\n                                    <dt className=\"small font-weight-bold\">\n                                        <span className=\"mr-1\">Autor</span>\n                                        <FontAwesomeIcon\n                                            className=\"text-primary mr-1 link\"\n                                            icon={faFilter}\n                                            size={\"1x\"}\n                                            title=\"Filtrar por autor\"\n                                            onClick={() => { setSelStudent(note.authorId); setSelPage(1) }}\n                                        />\n                                    </dt>\n                                    <dd>{titleCase(note.authorName)}</dd>\n                                </>\n                            }\n                            {\n                                note.teacherName &&\n                                <>\n                                    <dt className=\"small font-weight-bold\">\n                                        <span className=\"mr-1\">\n                                            <span className=\"mr-1\">Docente</span>\n                                            <FontAwesomeIcon\n                                                className=\"text-primary mr-1 link\"\n                                                icon={faFilter}\n                                                size={\"1x\"}\n                                                title=\"Filtrar por docente\"\n                                                onClick={() => { setSelTeacher(note.teacherId); setSelPage(1) }}\n                                            />\n                                        </span>\n                                        {\n                                            note.teacherPage &&\n                                            <a\n                                                title=\"Perfil do docente ua.pt\"\n                                                href={note.teacherPage}\n                                                target=\"_blank\"\n                                                rel=\"noreferrer\"\n                                            >\n\n                                                <FontAwesomeIcon\n                                                    className=\"text-primary mr-3\"\n                                                    icon={faInfoCircle}\n                                                    size={\"1x\"}\n                                                />\n                                            </a>\n                                        }\n                                    </dt>\n                                    <dd>{note.teacherName}</dd>\n                                </>\n                            }\n                            {\n                                (note.content || note.size) &&\n                                <div class=\"file-content\">\n                                    <dt className=\"small font-weight-bold\">\n                                        Conteúdo\n                                        {note.size && <small className=\"ml-1\">({note.size} MB)</small>}\n                                    </dt>\n                                    {\n                                        note.content &&\n                                        <dd>{parse(`${note.content.replace('\\n', '<br/>')}`)}</dd>\n                                    }\n                                </div>\n                            }\n                        </dl>\n                    </div>\n                </>\n            }\n        </div>\n    );\n}\n\nexport default Details;"]},"metadata":{},"sourceType":"module"}